BASE: [""]
TOOLBOX_MODE: "only_test" # 👈 核心！只测试模式

TEST:
  METRICS: ["MAE", "RMSE", "MAPE", "Pearson", "SNR"]
  USE_LAST_EPOCH: False # 在 only_test 模式下这个参数其实不重要

  DATA:
    FS: 30
    DATASET: MMPD
    DATA_FORMAT: NCDHW # 👈 记得保持 NCDHW (和训练时一致)

    # ---------------------------------------------------------
    # 1. 数据路径与预处理 (补全剩下的 20%)
    # ---------------------------------------------------------
    DATA_PATH: "./data/MMPD" # 原始数据路径 (如果在新硬盘，请改这里，比如 "E:/data/MMPD")
    CACHED_PATH: "./preprocessed_MMPD" # 预处理保存路径 (建议指向新硬盘，比如 "E:/preprocessed_MMPD")

    DO_PREPROCESS: False # 🔨【开】因为 0.8-1.0 的数据还没生成过！
    BEGIN: 0.8 # 👈 测试集起始点
    END: 1.0 # 👈 测试集结束点 (最后的 20%)

    # 为了保持文件夹整洁，建议沿用之前的长名字，这样数据会存到同一个大文件夹里
    # 或者你也可以留空 "" 让它自动生成，为了保险起见，推荐填之前的长名字：
    EXP_DATA_NAME: "MMPD_SizeW128_SizeH128_ClipLength160_DataTypeStandardized_DataAugNone_LabelTypeStandardized_Crop_faceTrue_BackendHC_Large_boxTrue_Large_size1.5_Dyamic_DetFalse_det_len30_Median_face_boxFalse"

    # ---------------------------------------------------------
    # 2. 必须加上 INFO！(否则会被默认参数过滤为空)
    # ---------------------------------------------------------
    INFO:
      LIGHT: [1, 2, 3, 4]
      MOTION: [1, 2, 3, 4]
      EXERCISE: [1, 2]
      SKIN_COLOR: [3, 4, 5, 6] # ⚠️ 关键！默认配置是 [1]，必须覆盖为 [3,4,5,6]
      GENDER: [1, 2]
      GLASSER: [1, 2]
      HAIR_COVER: [1, 2]
      MAKEUP: [1, 2]

    PREPROCESS:
      DATA_TYPE: ["Standardized"]
      DATA_AUG: ["None"]
      LABEL_TYPE: Standardized
      DO_CHUNK: True
      CHUNK_LENGTH: 160
      CROP_FACE:
        DO_CROP_FACE: True
        BACKEND: "HC" # 👈 保持 HC，和训练集一致！
        USE_LARGE_FACE_BOX: True
        LARGE_BOX_COEF: 1.5
        DETECTION:
          DO_DYNAMIC_DETECTION: False
          DYNAMIC_DETECTION_FREQUENCY: 30
          USE_MEDIAN_FACE_BOX: False
      RESIZE:
        H: 128
        W: 128
MODEL:
  DROP_RATE: 0.2
  NAME: PhysFormer # 或者是 RhythmFormer，看你要跑哪个

# ---------------------------------------------------------
# 3. 指定你的金丹模型
# ---------------------------------------------------------
INFERENCE:
  BATCH_SIZE: 2 # 显存小就设 1，想快点可以试 2
  EVALUATION_METHOD: "FFT"
  EVALUATION_WINDOW:
    USE_SMALLER_WINDOW: False
    WINDOW_SIZE: 10

  # 👇👇👇 把你复制的路径粘贴在这里！(注意斜杠方向 / )
  MODEL_PATH: "D:/rPPG-Toolbox/runs/exp/MMPD_SizeW128_SizeH128_ClipLength160_DataTypeStandardized_DataAugNone_LabelTypeStandardized_Crop_faceTrue_BackendHC_Large_boxTrue_Large_size1.5_Dyamic_DetFalse_det_len30_Median_face_boxFalse/PreTrainedModels/MMPD_PhysFormer_Reproduction_Epoch17.pth"
