# 流水账_

> **注**：本文档仅作为个人复现过程的时间线归档（log），内容较为杂乱且全是非技术性内容。
> 技术复现细节请参阅：[Reproduction_Work](./Reproduction_Work.md)

## 工作记录

> *唉好想摸鱼，和 gemini 聊哲学去了*

1. 理解 3.1 Stem
2. 完全理解 Stem
3. 了解 Transformer(https://jalammar.github.io/illustrated-transformer/)
4. 修硬盘（啊啊啊花了特别久，My heart broken，我再也不跨系统工作了
5. 继续了解 Transformer
6. 我来不及理解了，先清洗数据
7. 理解 `Loadtemporal_data.py`
8. 理解模型需要的输入特征
9. 提取 `.mat` 信息
10. 人脸摘除
11. 还在人脸摘除中。
12. 刚跑出一个 `.mat` 的人脸，发现自己不适合做这种流水账记录
13. 调整了自己的文件结构，清晰了一点

***

**严格**按照 60 min 一记，极限~~专注时间~~专注不了

14. 写 `process.mat` 想跑一个例子，发现自己的 `cuda` 和 `pytorch` 不适配，重新下载 `pytorch`.
    等待 `pytorch` 下载，跑 `process.mat`
15. 顺利！跑批量处理……
16. 等待批量处理……优化批量处理速度；遇到两个问题，解决有些帧是黑的，脸部边框缺失T T
    我没想到扫不到人脸的帧(是损失了吗？)还不少，没有在代码里设置把他们记录下来，得肉眼查了。
    **oh天哪！是因为运动的问题** 很多面部非常模糊，看不见呀...得人为裁剪了
17. 批量处理需要4h，先睡了；
18. 调配对应输入路径



***

正在读取 subject1\p1_0.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:14<00:04,  4.95s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.44s/it]

成功转换subject1\p1_0.mat


正在读取 subject1\p1_1.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:23<00:07,  7.25s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:25<00:00,  6.32s/it]

成功转换subject1\p1_1.mat


正在读取 subject1\p1_2.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:14<00:04,  4.93s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.26s/it]

成功转换subject1\p1_2.mat


正在读取 subject1\p1_3.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:16<00:05,  5.53s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.68s/it]

成功转换subject1\p1_3.mat


正在读取 subject1\p1_4.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:16<00:05,  5.43s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:19<00:00,  4.79s/it]

成功转换subject1\p1_4.mat


正在读取 subject1\p1_5.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:16<00:05,  5.40s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.59s/it]

成功转换subject1\p1_5.mat


正在读取 subject1\p1_6.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.28s/it]

成功转换subject1\p1_6.mat


正在读取 subject1\p1_7.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:11<00:03,  3.74s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:13<00:00,  3.38s/it]

成功转换subject1\p1_7.mat


正在读取 subject1\p1_8.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:20<00:00,  5.01s/it]

成功转换subject1\p1_8.mat


正在读取 subject1\p1_9.mat ...
处理进度:  25%|███████▌                      | 1/4 [00:06<00:19,  6.37s/it]第 650 帧未检测到人脸，复制前一帧。
第 651 帧未检测到人脸，复制前一帧。
第 652 帧未检测到人脸，复制前一帧。
第 653 帧未检测到人脸，复制前一帧。
第 654 帧未检测到人脸，复制前一帧。
第 655 帧未检测到人脸，复制前一帧。
第 656 帧未检测到人脸，复制前一帧。
第 657 帧未检测到人脸，复制前一帧。
第 659 帧未检测到人脸，复制前一帧。
第 660 帧未检测到人脸，复制前一帧。
第 661 帧未检测到人脸，复制前一帧。
第 662 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:20<00:00,  5.24s/it]

成功转换subject1\p1_9.mat


正在读取 subject1\p1_10.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:23<00:00,  5.86s/it]

成功转换subject1\p1_10.mat


正在读取 subject1\p1_11.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:22<00:00,  5.53s/it]

成功转换subject1\p1_11.mat


正在读取 subject1\p1_12.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.16s/it]

成功转换subject1\p1_12.mat


正在读取 subject1\p1_13.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:19<00:00,  4.89s/it]

成功转换subject1\p1_13.mat


正在读取 subject1\p1_14.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.61s/it]

成功转换subject1\p1_14.mat


正在读取 subject1\p1_15.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.22s/it]

成功转换subject1\p1_15.mat


正在读取 subject1\p1_16.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.05s/it]

成功转换subject1\p1_16.mat


正在读取 subject1\p1_17.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.06s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.25s/it]

成功转换subject1\p1_17.mat


正在读取 subject1\p1_18.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.01s/it]

成功转换subject1\p1_18.mat


正在读取 subject1\p1_19.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.74s/it]

成功转换subject1\p1_19.mat


正在读取 subject2\p2_0.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:13<00:00,  3.26s/it]

成功转换subject2\p2_0.mat


正在读取 subject2\p2_1.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:11<00:03,  3.71s/it]第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:12<00:00,  3.10s/it]

成功转换subject2\p2_1.mat


正在读取 subject2\p2_2.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:11<00:03,  3.77s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:12<00:00,  3.19s/it]

成功转换subject2\p2_2.mat


正在读取 subject2\p2_3.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:10<00:03,  3.43s/it]第 1798 帧未检测到人脸，复制前一帧。
第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:11<00:00,  2.87s/it]

成功转换subject2\p2_3.mat


正在读取 subject2\p2_4.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.76s/it]

成功转换subject2\p2_4.mat


正在读取 subject2\p2_5.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.85s/it]

成功转换subject2\p2_5.mat


正在读取 subject2\p2_6.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.97s/it]

成功转换subject2\p2_6.mat


正在读取 subject2\p2_7.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:12<00:03,  3.97s/it]第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:13<00:00,  3.40s/it]

成功转换subject2\p2_7.mat


正在读取 subject2\p2_8.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.12s/it]第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.41s/it]

成功转换subject2\p2_8.mat


正在读取 subject2\p2_9.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.57s/it]

成功转换subject2\p2_9.mat


正在读取 subject2\p2_10.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.25s/it]

成功转换subject2\p2_10.mat


正在读取 subject2\p2_11.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:13<00:04,  4.61s/it]第 1798 帧未检测到人脸，复制前一帧。
第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.86s/it]

成功转换subject2\p2_11.mat


正在读取 subject2\p2_12.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.14s/it]第 1797 帧未检测到人脸，复制前一帧。
第 1798 帧未检测到人脸，复制前一帧。
第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.51s/it]

成功转换subject2\p2_12.mat


正在读取 subject2\p2_13.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.14s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.42s/it]

成功转换subject2\p2_13.mat


正在读取 subject2\p2_14.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:19<00:00,  4.76s/it]

成功转换subject2\p2_14.mat


正在读取 subject2\p2_15.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.16s/it]

成功转换subject2\p2_15.mat


正在读取 subject2\p2_16.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:13<00:00,  3.46s/it]

成功转换subject2\p2_16.mat


正在读取 subject2\p2_17.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.78s/it]

成功转换subject2\p2_17.mat


正在读取 subject2\p2_18.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:14<00:00,  3.73s/it]

成功转换subject2\p2_18.mat


正在读取 subject2\p2_19.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:13<00:04,  4.68s/it]第 1795 帧未检测到人脸，复制前一帧。
第 1796 帧未检测到人脸，复制前一帧。
第 1797 帧未检测到人脸，复制前一帧。
第 1798 帧未检测到人脸，复制前一帧。
第 1799 帧未检测到人脸，复制前一帧。
第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.88s/it]

成功转换subject2\p2_19.mat


正在读取 subject3\p3_0.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:16<00:05,  5.50s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.72s/it]

成功转换subject3\p3_0.mat


正在读取 subject3\p3_1.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.19s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.57s/it]

成功转换subject3\p3_1.mat


正在读取 subject3\p3_2.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:18<00:06,  6.23s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:21<00:00,  5.46s/it]

成功转换subject3\p3_2.mat


正在读取 subject3\p3_3.mat ...
处理进度:  25%|███████▌                      | 1/4 [00:05<00:15,  5.11s/it]第 754 帧未检测到人脸，复制前一帧。
第 755 帧未检测到人脸，复制前一帧。
第 756 帧未检测到人脸，复制前一帧。
第 757 帧未检测到人脸，复制前一帧。
第 758 帧未检测到人脸，复制前一帧。
第 759 帧未检测到人脸，复制前一帧。
第 760 帧未检测到人脸，复制前一帧。
第 761 帧未检测到人脸，复制前一帧。
第 762 帧未检测到人脸，复制前一帧。
第 763 帧未检测到人脸，复制前一帧。
第 764 帧未检测到人脸，复制前一帧。
第 765 帧未检测到人脸，复制前一帧。
第 766 帧未检测到人脸，复制前一帧。
第 767 帧未检测到人脸，复制前一帧。
第 768 帧未检测到人脸，复制前一帧。
第 769 帧未检测到人脸，复制前一帧。
第 779 帧未检测到人脸，复制前一帧。
处理进度:  75%|██████████████████████▌       | 3/4 [00:14<00:04,  4.85s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.22s/it]

成功转换subject3\p3_3.mat


正在读取 subject3\p3_4.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.95s/it]

成功转换subject3\p3_4.mat


正在读取 subject3\p3_5.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.92s/it]

成功转换subject3\p3_5.mat


正在读取 subject3\p3_6.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.91s/it]

成功转换subject3\p3_6.mat


正在读取 subject3\p3_7.mat ...
处理进度:   0%|                                      | 0/4 [00:00<?, ?it/s]第 466 帧未检测到人脸，复制前一帧。
第 467 帧未检测到人脸，复制前一帧。
第 468 帧未检测到人脸，复制前一帧。
第 469 帧未检测到人脸，复制前一帧。
第 474 帧未检测到人脸，复制前一帧。
第 475 帧未检测到人脸，复制前一帧。
第 479 帧未检测到人脸，复制前一帧。
第 480 帧未检测到人脸，复制前一帧。
第 485 帧未检测到人脸，复制前一帧。
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.41s/it]第 1714 帧未检测到人脸，复制前一帧。
第 1715 帧未检测到人脸，复制前一帧。
第 1716 帧未检测到人脸，复制前一帧。
第 1717 帧未检测到人脸，复制前一帧。
第 1718 帧未检测到人脸，复制前一帧。
第 1719 帧未检测到人脸，复制前一帧。
第 1720 帧未检测到人脸，复制前一帧。
第 1721 帧未检测到人脸，复制前一帧。
第 1722 帧未检测到人脸，复制前一帧。
第 1723 帧未检测到人脸，复制前一帧。
第 1724 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.57s/it]

成功转换subject3\p3_7.mat


正在读取 subject3\p3_8.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.14s/it]

成功转换subject3\p3_8.mat


正在读取 subject3\p3_9.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:14<00:00,  3.61s/it]

成功转换subject3\p3_9.mat


正在读取 subject3\p3_10.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.22s/it]

成功转换subject3\p3_10.mat


正在读取 subject3\p3_11.mat ...
处理进度:  50%|███████████████               | 2/4 [00:08<00:08,  4.33s/it]第 1031 帧未检测到人脸，复制前一帧。
处理进度:  75%|██████████████████████▌       | 3/4 [00:13<00:04,  4.70s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:16<00:00,  4.01s/it]

成功转换subject3\p3_11.mat


正在读取 subject3\p3_12.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.61s/it]

成功转换subject3\p3_12.mat


正在读取 subject3\p3_13.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.50s/it]

成功转换subject3\p3_13.mat


正在读取 subject3\p3_14.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.62s/it]

成功转换subject3\p3_14.mat


正在读取 subject3\p3_15.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.69s/it]

成功转换subject3\p3_15.mat


正在读取 subject3\p3_16.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:19<00:00,  4.82s/it]

成功转换subject3\p3_16.mat


正在读取 subject3\p3_17.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.40s/it]

成功转换subject3\p3_17.mat


正在读取 subject3\p3_18.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.56s/it]

成功转换subject3\p3_18.mat


正在读取 subject3\p3_19.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.47s/it]

成功转换subject3\p3_19.mat


正在读取 subject4\p4_0.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:15<00:00,  3.93s/it]

成功转换subject4\p4_0.mat


正在读取 subject4\p4_1.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:16<00:05,  5.39s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.54s/it]

成功转换subject4\p4_1.mat


正在读取 subject4\p4_2.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.16s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.38s/it]

成功转换subject4\p4_2.mat


正在读取 subject4\p4_3.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:13<00:00,  3.46s/it]

成功转换subject4\p4_3.mat


正在读取 subject4\p4_4.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.67s/it]

成功转换subject4\p4_4.mat


正在读取 subject4\p4_5.mat ...
处理进度: 100%|██████████████████████████████| 4/4 [00:18<00:00,  4.70s/it]

成功转换subject4\p4_5.mat


正在读取 subject4\p4_6.mat ...
处理进度:  75%|██████████████████████▌       | 3/4 [00:15<00:05,  5.06s/it]第 1800 帧未检测到人脸，复制前一帧。
处理进度: 100%|██████████████████████████████| 4/4 [00:17<00:00,  4.35s/it]

成功转换subject4\p4_6.mat


正在读取 subject4\p4_7.mat ...
处理进度:   0%|                                      | 0/4 [00:00<?, ?it/s]第 1 帧未检测到人脸，复制前一帧。
处理进度:   0%|                                      | 0/4 [00:03<?, ?it/s]
Traceback (most recent call last):
  File "D:\mini_MMPD\process_mat.py", line 100, in <module>
    process(MAT_FILE)
  File "D:\mini_MMPD\process_mat.py", line 85, in process
    raise ValueError("无前一帧...")
ValueError: 无前一帧...

(pytorch_env) D:\mini_MMPD>